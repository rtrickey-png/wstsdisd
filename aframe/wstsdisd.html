<!DOCTYPE html>
<html>
<head>
  <title>Who Set the Sun Down in San Diego?</title>
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  <script src="./scripts/link-controls.js"></script>
  <script src="./components/mute-control.js"></script>
  <script src="./components/start-stop-song.js"></script>
</head>
<body>
  <a-scene >
    <a-assets timeout="3000">
      <img id="sky1" src="./assets/img/stellarium-2.jpg" alt="sky from Barcelona 7-4-2022"/>
      <img id="sky-sd" src="./assets/img/stellarium-sd-03-08-22.png" alt="sky from San Diego 8-3-2022"/>
      <audio id="drum-track" autoplay="false" preload="auto" loop="false" src="./assets/sound/wstsdisd/DRUMS.mp3"></audio>
      <audio id="bass-track" autoplay="false" preload="auto" loop="false" src="./assets/sound/wstsdisd/BASS.mp3"></audio>
      <audio id="vox-track" autoplay="false" preload="auto" loop="false" src="./assets/sound/wstsdisd/VOCALS.mp3"></audio>
      <audio id="keys-track" autoplay="false" preload="auto" loop="false" src="./assets/sound/wstsdisd/KEYS.mp3"></audio>
      <audio id="synths-track" autoplay="false" preload="auto" loop="false" src="./assets/sound/wstsdisd/SYNTHS.mp3"></audio>
      <audio id="fx-track" autoplay="false" preload="auto" loop="false" src="./assets/sound/wstsdisd/FX.mp3"></audio>
      <audio id="ruidos-track" autoplay="false" preload="auto" loop="false" src="./assets/sound/wstsdisd/RUIDOS.mp3"></audio>
    </a-assets>

    <!-- background image -->
    <a-entity id="rotating-sky">
      <a-sky id="sky" src="#sky-sd"
        animation="property: object3D.rotation.y;
                   to: 360;
                   dur:600000;
                   loop: true"></a-sky>
    </a-entity>

    <a-entity position="0 5 -15">
        <a-box id="control-cube" start-stop-song class="clickable"
        material="color: #c8102e" scale="4 4 4"></a-box>
      </a-entity>

 <!-- audio-controls="soundIndex: 0; color: indigo" -->
 <!-- sound="src: #drums; autoplay: false; volume: 1; on: playsong" -->
    <a-entity id="sonic-system">
      <a-entity id="Sun">
      <a-sphere id="drum-orb" mute-control="soundId: #drums; color: indigo"
        class="clickable" scale="3 3 3" position="0 1 0">
        <a-sound id="drums" src="#drum-track" sound=""></a-sound>
      </a-sphere>
    <a-entity>

      <a-entity id="Mercury"
        animation="property: rotation;
          to: 0 360 0;
          dur: 144600;
          loop: true;
          easing: linear">
          <!-- audio-controls="soundIndex: 1; color: blue" -->
          <!-- sound="src: #bass; autoplay: false; volume: 1; on: playsong" -->
        <a-sphere id="planet-mercury" mute-control="soundId: #bass; color: blue"
          class="clickable"
          scale=".4 .4 .4" position="0 1 -4"
        animation="property: object3D.rotation.y;
          to: 360;
          dur: 586666.67;
          loop: true;
          easing: linear"
        ></a-sphere>
        <a-sound id="bass" src="#bass-track" sound></a-sound>
      </a-entity>

      <a-entity id="Venus"
        animation="property: rotation;
          to: 0 360 0;
          dur: 37200;
          loop: true;
          easing: linear">
          <!-- audio-controls="soundIndex: 2; color: green" -->
          <!-- sound="src: #vox; autoplay: false; volume: 1; on: playsong" -->
        <a-sphere id="planet-venus" mute-control="soundId: #vox; color: green"
          class="clickable"
          scale=".9 .9 .9" position="0 1 -7"
        animation="property: object3D.rotation.y;
          to: 360;
          dur: 2430000;
          loop: true;
          easing: linear"
          ></a-sphere>
          <a-sound id="vox" src="#vox-track" ></a-sound>
      </a-entity>

      <a-entity id="Earth"
        animation="property: rotation;
          to: 0 360 0;
          loop: true;
          dur: 60000;
          easing: linear">
          <!-- audio-controls="soundIndex: 3; color: yellow" -->
          <!-- sound="src: #keys; autoplay: false; volume: 1; on: playsong" -->
        <a-sphere id="planet-earth" mute-control="soundId: #keys; color: yellow"
        class="clickable"
        scale="1 1 1" position="0 1 -10"
        animation="property: object3D.rotation.y;
          to: 360;
          dur: 10000;
          loop: true;
          easing: linear"
        ></a-sphere>
        <a-sound id="keys" src="#keys-track" ></a-sound>
        <!-- <a-entity id="Moon" position="1.276 1.5 -10"
          animation="property: rotation;
            from: 0 0 0;
            to: 0 360 0;
            dur: 4484.48;
            loop: true;
            easing: linear">
            changing the position tag on the moon changes the rotational radius of the moon
        <a-sphere id="obj-moon" scale="0.25 0.25 0.25" position="1.276 0 1.276"></a-sphere>

        </a-entity> -->
        <!-- <a-sphere id="Moon" src="#moon" scale=".25 .25 .25" position="0 1.5 -10" -->
        <!-- ></a-sphere> -->
      </a-entity>


      <a-entity id="Mars"
        animation="property: rotation;
          to: 0 360 0;
          loop: true;
          dur: 112800;
          easing: linear"
        >
        <!-- audio-controls="soundIndex: 4; color: orange" -->
        <!-- sound="src: #synths; autoplay: false; volume: 1; on: playsong" -->
        <a-sphere id="planet-mars" mute-control="soundId: #synths; color: orange"
        class="clickable"
        scale=".5 .5 .5" position="0 1 -15"
        animation="property: object3D.rotation.y;
          to: 360;
          dur: 10416.67;
          loop: true;
          easing:linear"
        ></a-sphere>
        <a-sound id="synths" src="#synths-track"></a-sound>

      </a-entity>

      <a-entity id="Jupiter"
        animation="property: rotation;
          to: 0 360 0;
          loop: true;
          dur: 711600;
          easing: linear">
          <!-- audio-controls="soundIndex: 5; color: red" -->
          <!-- sound="src:#fx; autoplay: false; volume: 1; on: playsong" -->
        <a-sphere id="planet-jupiter" mute-control="soundId: #fx; color: red"
        class="clickable"
        scale="11.2 11.2 11.2" position="0 1 -52"
        animation="property: object3D.rotation.y;
          to: 360;
          dur: 4166.67;
          loop: true;
          easing: linear"
        ></a-sphere>
        <a-sound id="fx" src="#fx-track" ></a-sound>
      </a-entity>

      <a-entity id="Saturn"
        animation="property: rotation;
          to: 0 360 0;
          loop: true;
          dur: 1767600;
          easing: linear">
        <!-- <a-entity animation="property: object3D.rotation.y;
            to: 360;
            dur: 4583.33;
            loop: true;
            easing: linear;"> -->
            <!-- audio-controls="soundIndex: 6; color: pink" -->
            <!-- sound="src: #ruidos; autoplay: false; volume: 1; on: playsong" -->
          <a-sphere id="planet-saturn" mute-control="soundId: #ruidos; color: violet"
          class="clickable"
          scale="9.5 9.5 9.5" position="0 1 -96"
          animation="property: object3D.rotation.y;
              to: 360;
              dur: 4583.33;
              loop: true;
              easing: linear;"
          ></a-sphere>
          <a-sound id="ruidos" src="#ruidos-track" sound=""></a-sound>
          <a-torus id="saturn-ring-1"
            position="0 1 -96"
            color="#57524A"
            segments-tubular="50"
            radius="2.7"
            radius-tubular="0.1"
            rotation="90 0 0"
            scale="5 5 1"
            material="blending: none"
            geometry=""></a-torus>
          <a-torus id="saturn-ring-2"
            position="0 1 -96"
            color="#A29A87"
            segments-tubular="50"
            radius="2.2"
            radius-tubular="0.2"
            rotation="90 0 0"
            scale="5 5 1"></a-torus>
      <!-- </a-entity> -->
    </a-entity>
    <!-- <a-sky color="black"></a-sky> -->

    <!-- camera with look controls-->
  		<a-entity id="camera" camera look-controls wasd-controls>
  			<a-entity
          cursor="fuse: true; fuseTimeout: 888"
          raycaster="interval: 1000; objects: .clickable; showLine: true"
    			position="0 0 -1"
    			geometry="primitive: ring; radiusInner: 0.015; radiusOuter: 0.017"
    			material="color: white; shader: flat">
  		</a-entity>
  	</a-entity>


    <a-entity id="link-home" position="12 -100 0" animation="property: position; to: 12 0 0; dur: 5000; easing: linear; loop: false">
      <a-link class="clickable"  rotation="0 -90 0"
      href="index.html" title="Return to Start" scale="2 2 2" image="#sky1"></a-link>
      <a-text align="center" position="0 -3 0" value="Note: this will stop playback!" rotation="0 -90 0" scale="3 3 1"></a-text>
    </a-entity>
  </a-scene>
</body>
</html>
